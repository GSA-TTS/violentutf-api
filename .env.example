# ViolentUTF API Configuration Template
# Copy this file to .env and update with your specific values

# ============================================
# APPLICATION CONFIGURATION
# ============================================

# Environment: development, staging, production
ENVIRONMENT=development

# Debug mode (set to false in production)
DEBUG=false

# Application secret key (generate a secure random string)
# IMPORTANT: Change this in production!
SECRET_KEY=your-secret-key-min-32-chars-change-in-production

# JWT Secret for token generation (generate a secure random string)
JWT_SECRET=your-jwt-secret-min-32-chars-change-in-production

# ============================================
# API SERVER CONFIGURATION
# ============================================

# API Server Port
API_PORT=8000

# Server Host (0.0.0.0 for Docker, 127.0.0.1 for local)
SERVER_HOST=0.0.0.0

# Server Port (internal port, usually same as API_PORT)
SERVER_PORT=8000

# ============================================
# DATABASE CONFIGURATION
# ============================================

# PostgreSQL Configuration
DB_USER=violentutf
DB_PASSWORD=change-this-secure-password-in-production
DB_NAME=violentutf
DB_HOST=db
DB_PORT=5432

# Database Connection Pool
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30

# Database URL (constructed from above or override)
# DATABASE_URL=postgresql://violentutf:password@db:5432/violentutf

# ============================================
# REDIS CONFIGURATION
# ============================================

# Redis URL for caching and task queue
REDIS_URL=redis://redis:6379/0

# Redis Password (leave empty for no auth in dev)
REDIS_PASSWORD=change-this-secure-password-in-production

# Cache TTL in seconds
CACHE_TTL=300

# ============================================
# CELERY CONFIGURATION (Async Task Processing)
# ============================================

# Celery Broker (Redis database 1)
CELERY_BROKER_URL=redis://:change-this-secure-password-in-production@redis:6379/1

# Celery Result Backend (Redis database 2)
CELERY_RESULT_BACKEND=redis://:change-this-secure-password-in-production@redis:6379/2

# Celery Worker Configuration
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_PREFETCH_MULTIPLIER=1

# ============================================
# FLOWER CONFIGURATION (Celery Monitoring)
# ============================================

# Flower Web UI Port
FLOWER_PORT=5555

# Flower Authentication
FLOWER_USER=admin
FLOWER_PASSWORD=change-this-secure-password-in-production

# ============================================
# SECURITY CONFIGURATION
# ============================================

# CORS Allowed Origins (JSON array)
ALLOWED_ORIGINS='["http://localhost:8000","http://127.0.0.1:8000"]'

# Secure Cookies (set to true with HTTPS)
SECURE_COOKIES=false

# HSTS Max Age (seconds)
HSTS_MAX_AGE=31536000

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================
# MONITORING & LOGGING
# ============================================

# Enable Metrics Collection
ENABLE_METRICS=true

# Log Level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log Format: json, text
LOG_FORMAT=json

# Sentry DSN (for error tracking)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ============================================
# NGINX CONFIGURATION
# ============================================

# Nginx External Port
NGINX_PORT=80

# SSL Configuration (if using HTTPS)
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# ============================================
# AI PROVIDER CONFIGURATION
# ============================================

# OpenAI Configuration
# OPENAI_API_KEY=your-openai-api-key

# Anthropic Configuration
# ANTHROPIC_API_KEY=your-anthropic-api-key

# Azure OpenAI Configuration
# AZURE_OPENAI_API_KEY=your-azure-key
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
# AZURE_OPENAI_API_VERSION=2024-02-15-preview

# ============================================
# PYRIT CONFIGURATION
# ============================================

# PyRIT Memory Provider
PYRIT_MEMORY_PROVIDER=duckdb

# PyRIT Database Path
PYRIT_DB_PATH=./data/pyrit.db

# ============================================
# FEATURE FLAGS
# ============================================

# Enable specific features
ENABLE_SWAGGER_UI=true
ENABLE_REDOC=true
ENABLE_ASYNC_PROCESSING=true
ENABLE_WEBHOOK_NOTIFICATIONS=true
ENABLE_TASK_MANAGEMENT=true
ENABLE_SECURITY_SCANNING=true
ENABLE_REPORT_GENERATION=true

# ============================================
# EXTERNAL SERVICES
# ============================================

# Webhook URL for notifications
# WEBHOOK_URL=https://your-webhook-endpoint.com/notify

# S3 Configuration (for file storage)
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1
# S3_BUCKET_NAME=violentutf-storage

# ============================================
# DEVELOPMENT SETTINGS
# ============================================

# Auto-reload (development only)
AUTO_RELOAD=false

# Mock External Services (for testing)
MOCK_EXTERNAL_SERVICES=false

# ============================================
# DOCKER COMPOSE SETTINGS
# ============================================

# Docker Network
DOCKER_NETWORK=violentutf-network

# Volume Mounts (for development)
# LOCAL_CODE_PATH=./app
# CONTAINER_CODE_PATH=/app
